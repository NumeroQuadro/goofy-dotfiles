# Shared tmux config
set -g default-terminal "tmux-256color"
set -as terminal-overrides ",xterm-kitty:RGB:Ms=\E]52;c;%p1%s\007"

set -g mouse on
set -g history-limit 10000
set -g status-keys vi
set -g mode-keys vi
set -g set-clipboard on

# Copy selection on mouse release (uses OSC52 when set-clipboard is on)
bind -T copy-mode-vi MouseDragEnd1Pane send -X copy-selection-and-cancel
bind -T copy-mode MouseDragEnd1Pane send -X copy-selection-and-cancel

# Mouse wheel scroll lines per tick (adjust to taste)
set -g @scroll-lines 1

# Smooth mouse wheel scrolling (1 line per tick)
bind -n WheelUpPane if -F '#{mouse_any_flag}' 'send -M' 'if -F "#{pane_in_mode}" "send-keys -X -N #{@scroll-lines} scroll-up" "copy-mode -e; send-keys -X -N #{@scroll-lines} scroll-up"'
bind -n WheelDownPane if -F '#{mouse_any_flag}' 'send -M' 'if -F "#{pane_in_mode}" "send-keys -X -N #{@scroll-lines} scroll-down" "send -M"'

bind-key K send-keys C-l \; clear-history
bind-key -n C-l send-keys C-l \; clear-history
